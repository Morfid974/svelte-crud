import{D as dt,E as He,S as ft,i as ut,s as ct,N as pt,c as re,a as T,e as a,b as n,m as de,d as W,f as t,l as O,t as D,g as ye,j as ve,h as P,k as fe,n as X,o as ze,p as Pe,q as mt,G as gt,H as _t,r as ae,u as oe,F as we,w as it,x as st,y as ee,I as Fe,J as ie,v as De,C as bt,K as Ve,L as at,M as ht,O as yt,P as vt,B as qe,Q as wt,R as xt,U as kt,V as ot}from"./index.js";function Ct(l){const e=l-1;return e*e*e+1}function je(l,{delay:e=0,duration:s=400,easing:i=dt}={}){const r=+getComputedStyle(l).opacity;return{delay:e,duration:s,easing:i,css:f=>`opacity: ${f*r}`}}function Be(l,{delay:e=0,duration:s=400,easing:i=Ct,x:r=0,y:f=0,opacity:d=0}={}){const m=getComputedStyle(l),w=+m.opacity,o=m.transform==="none"?"":m.transform,U=w*(1-d),[_,g]=He(r),[x,y]=He(f);return{delay:e,duration:s,easing:i,css:(k,q)=>`
			transform: ${o} translate(${(1-k)*_}${g}, ${(1-k)*x}${y});
			opacity: ${w-U*q}`}}function Oe(l,e,s){const i=l.slice();return i[33]=e[s],i}function Ee(l,e,s){const i=l.slice();return i[36]=e[s],i}function Ge(l,e,s){const i=l.slice();return i[39]=e[s],i}function Je(l){let e,s;return e=new we({props:{icon:kt,class:"text-green-800"}}),{c(){re(e.$$.fragment)},m(i,r){de(e,i,r),s=!0},p:ot,i(i){s||(D(e.$$.fragment,i),s=!0)},o(i){P(e.$$.fragment,i),s=!1},d(i){fe(e,i)}}}function Ke(l){let e,s;return e=new we({props:{icon:at,class:"text-red-800"}}),{c(){re(e.$$.fragment)},m(i,r){de(e,i,r),s=!0},p:ot,i(i){s||(D(e.$$.fragment,i),s=!0)},o(i){P(e.$$.fragment,i),s=!1},d(i){fe(e,i)}}}function Qe(l){let e,s,i,r,f;function d(){return l[18](l[39])}function m(){return l[19](l[39])}return{c(){e=a("button"),e.textContent="Update",s=T(),i=a("button"),i.textContent="Delete",n(e,"class","border border-yellow-500 bg-yellow-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-yellow-600 focus:outline-none focus:shadow-outline"),n(i,"class","border border-red-500 bg-red-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-red-600 focus:outline-none focus:shadow-outline")},m(w,o){W(w,e,o),W(w,s,o),W(w,i,o),r||(f=[O(e,"click",d),O(i,"click",m)],r=!0)},p(w,o){l=w},d(w){w&&X(e),w&&X(s),w&&X(i),r=!1,De(f)}}}function Re(l){let e,s,i=l[39].tablename+"",r,f,d,m,w,o,U,_,g=l[39].is_technical&&Je(),x=!l[39].is_technical&&Ke(),y=!l[39].is_technical&&Qe(l);return{c(){e=a("tr"),s=a("td"),r=ae(i),f=T(),d=a("td"),g&&g.c(),m=T(),x&&x.c(),w=T(),o=a("td"),y&&y.c(),U=T(),n(s,"class","px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"),n(d,"class","text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"),n(o,"class","text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"),n(e,"class","bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100")},m(k,q){W(k,e,q),t(e,s),t(s,r),t(e,f),t(e,d),g&&g.m(d,null),t(d,m),x&&x.m(d,null),t(e,w),t(e,o),y&&y.m(o,null),t(e,U),_=!0},p(k,q){(!_||q[0]&32)&&i!==(i=k[39].tablename+"")&&oe(r,i),k[39].is_technical?g?(g.p(k,q),q[0]&32&&D(g,1)):(g=Je(),g.c(),D(g,1),g.m(d,m)):g&&(ye(),P(g,1,1,()=>{g=null}),ve()),k[39].is_technical?x&&(ye(),P(x,1,1,()=>{x=null}),ve()):x?(x.p(k,q),q[0]&32&&D(x,1)):(x=Ke(),x.c(),D(x,1),x.m(d,null)),k[39].is_technical?y&&(y.d(1),y=null):y?y.p(k,q):(y=Qe(k),y.c(),y.m(o,null))},i(k){_||(D(g),D(x),_=!0)},o(k){P(g),P(x),_=!1},d(k){k&&X(e),g&&g.d(),x&&x.d(),y&&y.d()}}}function We(l){let e,s,i,r,f,d,m,w,o,U,_,g,x,y,k,q,z,$,L,b,G,h,j,p,v,N,I,J,Z;return g=new we({props:{icon:it}}),{c(){e=a("div"),s=a("div"),r=T(),f=a("div"),d=a("div"),m=a("div"),w=a("div"),o=a("div"),U=a("div"),_=st("svg"),re(g.$$.fragment),x=T(),y=a("div"),k=a("h3"),k.textContent="Add a new table",q=T(),z=a("div"),$=a("div"),$.textContent="Name:",L=T(),b=a("input"),G=T(),h=a("div"),j=a("button"),j.textContent="Create",p=T(),v=a("button"),v.textContent="Cancel",n(s,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity ease-in-out duration-150"),n(_,"class","h-6 w-6 text-green-600"),n(_,"fill","none"),n(_,"viewBox","0 0 24 24"),n(_,"stroke-width","1.5"),n(_,"stroke","currentColor"),n(_,"aria-hidden","true"),n(U,"class","mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"),n(k,"class","text-base font-semibold leading-6 text-gray-900"),n(k,"id","modal-title"),n(b,"type","text"),n(b,"placeholder","Table name"),n(z,"class","mt-2"),n(y,"class","mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"),n(o,"class","sm:flex sm:items-start"),n(w,"class","bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"),n(j,"type","button"),n(j,"class","inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto"),n(v,"type","button"),n(v,"class","mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"),n(h,"class","bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"),n(m,"class","relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"),n(d,"class","flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"),n(f,"class","fixed inset-0 z-10 overflow-y-auto"),n(e,"class","relative z-10")},m(A,E){W(A,e,E),t(e,s),t(e,r),t(e,f),t(f,d),t(d,m),t(m,w),t(w,o),t(o,U),t(U,_),de(g,_,null),t(o,x),t(o,y),t(y,k),t(y,q),t(y,z),t(z,$),t(z,L),t(z,b),ee(b,l[0].tablename),t(m,G),t(m,h),t(h,j),t(h,p),t(h,v),I=!0,J||(Z=[O(b,"input",l[20]),O(j,"click",l[9]),O(v,"click",l[11])],J=!0)},p(A,E){E[0]&1&&b.value!==A[0].tablename&&ee(b,A[0].tablename)},i(A){I||(Fe(()=>{I&&(i||(i=ie(s,je,{},!0)),i.run(1))}),D(g.$$.fragment,A),Fe(()=>{I&&(N||(N=ie(m,Be,{},!0)),N.run(1))}),I=!0)},o(A){i||(i=ie(s,je,{},!1)),i.run(0),P(g.$$.fragment,A),N||(N=ie(m,Be,{},!1)),N.run(0),I=!1},d(A){A&&X(e),A&&i&&i.end(),fe(g),A&&N&&N.end(),J=!1,De(Z)}}}function Xe(l){let e,s,i,r,f,d,m,w,o,U,_,g,x,y,k,q,z,$,L,b,G,h,j,p,v,N,I,J,Z,A,E,le,B,S,Y,u,C,V,ue,ce,te,Ie,xe,Le,ke,Me,Te,Ne,pe,Se,me,ge,$e,_e,ne,be,Ue,Ae;g=new we({props:{icon:bt}});let se=l[1].fields,M=[];for(let c=0;c<se.length;c+=1)M[c]=et(Ee(l,se,c));const rt=c=>P(M[c],1,1,()=>{M[c]=null});let he=l[6],K=[];for(let c=0;c<he.length;c+=1)K[c]=tt(Oe(l,he,c));let Q=l[4].define_length&&lt(l),R=l[4].define_precision&&nt(l);return pe=new we({props:{class:"text-green-800",icon:it}}),{c(){e=a("div"),s=a("div"),r=T(),f=a("div"),d=a("div"),m=a("div"),w=a("div"),o=a("div"),U=a("div"),_=st("svg"),re(g.$$.fragment),x=T(),y=a("div"),k=a("h3"),k.textContent="Update table",q=T(),z=a("div"),$=a("div"),L=a("label"),L.textContent="Name",b=T(),G=a("div"),h=a("input"),j=T(),p=a("div"),v=a("label"),v.textContent="Fields",N=T(),I=a("div"),J=a("table"),Z=a("thead"),Z.innerHTML=`<tr><th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Name</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Type</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Description</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Length</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Precision</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Action</th></tr>`,A=T(),E=a("tbody");for(let c=0;c<M.length;c+=1)M[c].c();le=T(),B=a("tr"),S=a("td"),Y=a("input"),u=T(),C=a("td"),V=a("select");for(let c=0;c<K.length;c+=1)K[c].c();ue=T(),ce=a("td"),te=a("input"),Ie=T(),xe=a("td"),Q&&Q.c(),Le=T(),ke=a("td"),R&&R.c(),Me=T(),Te=a("td"),Ne=a("button"),re(pe.$$.fragment),Se=T(),me=a("div"),ge=a("button"),ge.textContent="Update",$e=T(),_e=a("button"),_e.textContent="Cancel",n(s,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity ease-in-out duration-150"),n(_,"class","h-6 w-6 text-orange-600"),n(_,"fill","none"),n(_,"viewBox","0 0 24 24"),n(_,"stroke-width","1.5"),n(_,"stroke","currentColor"),n(_,"aria-hidden","true"),n(U,"class","mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10"),n(k,"class","text-base font-semibold leading-6 text-gray-900 dark:text-white"),n(k,"id","modal-title"),n(L,"for","edittitle"),n(L,"class","block text-sm font-bold ml-1 mb-2 text-gray-900 dark:text-white"),n(h,"id","edittitle"),n(h,"type","text"),n(h,"class","py-3 px-4 block w-full border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"),n(h,"placeholder","Table name"),n(G,"class","relative"),n(v,"for","edittitle"),n(v,"class","block text-sm font-bold ml-1 mb-2 text-gray-900 dark:text-white"),n(Z,"class","bg-gray-200 border-b"),n(Y,"class","px-2 border-gray-200"),n(Y,"type","text"),n(Y,"placeholder","Field name"),n(S,"class","bg-gray-200"),n(V,"class","px-2 border-gray-200"),l[4].datatype_id===void 0&&Fe(()=>l[25].call(V)),n(C,"class","bg-gray-200"),n(te,"class","px-2 border-gray-200"),n(te,"type","text"),n(te,"placeholder","Field description"),n(ce,"class","bg-gray-200"),n(xe,"class","bg-gray-200"),n(ke,"class","bg-gray-200"),n(Te,"class","text-center bg-gray-200"),n(E,"class","bg-gray-200"),n(I,"class","border-2 border-gray-200 rounded-md shadow-sm"),n(p,"class","relative"),n(z,"class","grid gap-y-4"),n(y,"class","mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"),n(o,"class","sm:flex sm:items-start"),n(w,"class","bg-white dark:bg-gray-800 dark:border-gray-700 px-4 pb-4 pt-5 sm:p-6 sm:pb-4"),n(ge,"type","button"),n(ge,"class","inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto"),n(_e,"type","button"),n(_e,"class","mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"),n(me,"class","bg-gray-50 dark:bg-gray-800 dark:border-gray-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"),n(m,"class","relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full md:w-auto lg:w-auto"),n(d,"class","min-w-full flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"),n(f,"class","fixed inset-0 z-10 overflow-y-auto"),n(e,"class","relative z-10")},m(c,H){W(c,e,H),t(e,s),t(e,r),t(e,f),t(f,d),t(d,m),t(m,w),t(w,o),t(o,U),t(U,_),de(g,_,null),t(o,x),t(o,y),t(y,k),t(y,q),t(y,z),t(z,$),t($,L),t($,b),t($,G),t(G,h),ee(h,l[1].tablename),t(z,j),t(z,p),t(p,v),t(p,N),t(p,I),t(I,J),t(J,Z),t(J,A),t(J,E);for(let F=0;F<M.length;F+=1)M[F]&&M[F].m(E,null);t(E,le),t(E,B),t(B,S),t(S,Y),ee(Y,l[4].name),t(B,u),t(B,C),t(C,V);for(let F=0;F<K.length;F+=1)K[F]&&K[F].m(V,null);Ve(V,l[4].datatype_id,!0),t(B,ue),t(B,ce),t(ce,te),ee(te,l[4].description),t(B,Ie),t(B,xe),Q&&Q.m(xe,null),t(B,Le),t(B,ke),R&&R.m(ke,null),t(B,Me),t(B,Te),t(Te,Ne),de(pe,Ne,null),t(m,Se),t(m,me),t(me,ge),t(me,$e),t(me,_e),be=!0,Ue||(Ae=[O(h,"input",l[21]),O(Y,"input",l[24]),O(V,"change",l[25]),O(V,"change",l[26]),O(te,"input",l[27]),O(Ne,"click",l[15]),O(ge,"click",l[10]),O(_e,"click",l[12])],Ue=!0)},p(c,H){if(H[0]&2&&h.value!==c[1].tablename&&ee(h,c[1].tablename),H[0]&322){se=c[1].fields;let F;for(F=0;F<se.length;F+=1){const Ce=Ee(c,se,F);M[F]?(M[F].p(Ce,H),D(M[F],1)):(M[F]=et(Ce),M[F].c(),D(M[F],1),M[F].m(E,le))}for(ye(),F=se.length;F<M.length;F+=1)rt(F);ve()}if(H[0]&80&&Y.value!==c[4].name&&ee(Y,c[4].name),H[0]&64){he=c[6];let F;for(F=0;F<he.length;F+=1){const Ce=Oe(c,he,F);K[F]?K[F].p(Ce,H):(K[F]=tt(Ce),K[F].c(),K[F].m(V,null))}for(;F<K.length;F+=1)K[F].d(1);K.length=he.length}H[0]&80&&Ve(V,c[4].datatype_id),H[0]&80&&te.value!==c[4].description&&ee(te,c[4].description),c[4].define_length?Q?Q.p(c,H):(Q=lt(c),Q.c(),Q.m(xe,null)):Q&&(Q.d(1),Q=null),c[4].define_precision?R?R.p(c,H):(R=nt(c),R.c(),R.m(ke,null)):R&&(R.d(1),R=null)},i(c){if(!be){Fe(()=>{be&&(i||(i=ie(s,je,{},!0)),i.run(1))}),D(g.$$.fragment,c);for(let H=0;H<se.length;H+=1)D(M[H]);D(pe.$$.fragment,c),Fe(()=>{be&&(ne||(ne=ie(m,Be,{},!0)),ne.run(1))}),be=!0}},o(c){i||(i=ie(s,je,{},!1)),i.run(0),P(g.$$.fragment,c),M=M.filter(Boolean);for(let H=0;H<M.length;H+=1)P(M[H]);P(pe.$$.fragment,c),ne||(ne=ie(m,Be,{},!1)),ne.run(0),be=!1},d(c){c&&X(e),c&&i&&i.end(),fe(g),ze(M,c),ze(K,c),Q&&Q.d(),R&&R.d(),fe(pe),c&&ne&&ne.end(),Ue=!1,De(Ae)}}}function Ye(l){let e,s=l[36].length+"",i;return{c(){e=a("span"),i=ae(s),n(e,"class","px-2 border-gray-200")},m(r,f){W(r,e,f),t(e,i)},p(r,f){f[0]&2&&s!==(s=r[36].length+"")&&oe(i,s)},d(r){r&&X(e)}}}function Ze(l){let e,s=l[36].precision+"",i;return{c(){e=a("span"),i=ae(s),n(e,"class","px-2 border-gray-200")},m(r,f){W(r,e,f),t(e,i)},p(r,f){f[0]&2&&s!==(s=r[36].precision+"")&&oe(i,s)},d(r){r&&X(e)}}}function et(l){let e,s,i,r=l[36].name+"",f,d,m,w,o=l[6].find(le).type+"",U,_,g,x,y=l[36].description+"",k,q,z,$=l[6].find(E).define_length,L,b,G=l[6].find(A).define_precision,h,j,p,v,N,I,J,Z;function A(...u){return l[16](l[36],...u)}function E(...u){return l[17](l[36],...u)}function le(...u){return l[22](l[36],...u)}let B=$&&Ye(l),S=G&&Ze(l);v=new we({props:{class:"text-red-800",icon:at}});function Y(){return l[23](l[36])}return{c(){e=a("tr"),s=a("td"),i=a("span"),f=ae(r),d=T(),m=a("td"),w=a("span"),U=ae(o),_=T(),g=a("td"),x=a("span"),k=ae(y),q=T(),z=a("td"),B&&B.c(),L=T(),b=a("td"),S&&S.c(),h=T(),j=a("td"),p=a("button"),re(v.$$.fragment),N=T(),n(i,"class","px-2 border-gray-200"),n(s,"class","bg-gray-200"),n(w,"class","px-2 border-gray-200"),n(m,"class","bg-gray-200"),n(x,"class","px-2 border-gray-200"),n(g,"class","bg-gray-200"),n(z,"class","bg-gray-200"),n(b,"class","bg-gray-200"),n(j,"class","text-center bg-gray-200")},m(u,C){W(u,e,C),t(e,s),t(s,i),t(i,f),t(e,d),t(e,m),t(m,w),t(w,U),t(e,_),t(e,g),t(g,x),t(x,k),t(e,q),t(e,z),B&&B.m(z,null),t(e,L),t(e,b),S&&S.m(b,null),t(e,h),t(e,j),t(j,p),de(v,p,null),t(e,N),I=!0,J||(Z=O(p,"click",Y),J=!0)},p(u,C){l=u,(!I||C[0]&2)&&r!==(r=l[36].name+"")&&oe(f,r),(!I||C[0]&66)&&o!==(o=l[6].find(le).type+"")&&oe(U,o),(!I||C[0]&2)&&y!==(y=l[36].description+"")&&oe(k,y),C[0]&66&&($=l[6].find(E).define_length),$?B?B.p(l,C):(B=Ye(l),B.c(),B.m(z,null)):B&&(B.d(1),B=null),C[0]&66&&(G=l[6].find(A).define_precision),G?S?S.p(l,C):(S=Ze(l),S.c(),S.m(b,null)):S&&(S.d(1),S=null)},i(u){I||(D(v.$$.fragment,u),I=!0)},o(u){P(v.$$.fragment,u),I=!1},d(u){u&&X(e),B&&B.d(),S&&S.d(),fe(v),J=!1,Z()}}}function tt(l){let e,s=l[33].type+"",i,r,f;return{c(){e=a("option"),i=ae(s),r=T(),e.__value=f=l[33]._id,e.value=e.__value},m(d,m){W(d,e,m),t(e,i),t(e,r)},p(d,m){m[0]&64&&s!==(s=d[33].type+"")&&oe(i,s),m[0]&64&&f!==(f=d[33]._id)&&(e.__value=f,e.value=e.__value)},d(d){d&&X(e)}}}function lt(l){let e,s,i;return{c(){e=a("input"),n(e,"class","px-2 border-gray-200"),n(e,"type","numeric"),n(e,"placeholder","Field description")},m(r,f){W(r,e,f),ee(e,l[4].length),s||(i=O(e,"input",l[28]),s=!0)},p(r,f){f[0]&80&&ee(e,r[4].length)},d(r){r&&X(e),s=!1,i()}}}function nt(l){let e,s,i;return{c(){e=a("input"),n(e,"class","px-2 border-gray-200"),n(e,"type","numeric"),n(e,"placeholder","Field description")},m(r,f){W(r,e,f),ee(e,l[4].precision),s||(i=O(e,"input",l[29]),s=!0)},p(r,f){f[0]&80&&ee(e,r[4].precision)},d(r){r&&X(e),s=!1,i()}}}function Ft(l){let e,s,i,r,f,d,m,w,o,U,_,g,x,y,k,q,z,$;e=new pt({});let L=l[5],b=[];for(let p=0;p<L.length;p+=1)b[p]=Re(Ge(l,L,p));const G=p=>P(b[p],1,1,()=>{b[p]=null});let h=l[2]&&We(l),j=l[3]&&Xe(l);return{c(){re(e.$$.fragment),s=T(),i=a("div"),r=a("button"),r.textContent="Add Table",f=T(),d=a("div"),m=a("div"),w=a("div"),o=a("div"),U=a("table"),_=a("thead"),_.innerHTML=`<tr><th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Name</th> 
                                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Is technical</th> 
                                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left"></th></tr>`,g=T(),x=a("tbody");for(let p=0;p<b.length;p+=1)b[p].c();y=T(),h&&h.c(),k=T(),j&&j.c(),n(r,"class","border border-green-500 bg-green-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-green-600 focus:outline-none focus:shadow-outline"),n(_,"class","bg-gray-200 border-b"),n(U,"class","min-w-full"),n(o,"class","overflow-hidden"),n(w,"class","py-2 inline-block min-w-full sm:px-6 lg:px-8"),n(m,"class","overflow-x-auto sm:mx-0.5 lg:mx-0.5"),n(d,"class","flex flex-col")},m(p,v){de(e,p,v),W(p,s,v),W(p,i,v),t(i,r),t(i,f),t(i,d),t(d,m),t(m,w),t(w,o),t(o,U),t(U,_),t(U,g),t(U,x);for(let N=0;N<b.length;N+=1)b[N]&&b[N].m(x,null);t(i,y),h&&h.m(i,null),t(i,k),j&&j.m(i,null),q=!0,z||($=O(r,"click",l[11]),z=!0)},p(p,v){if(v[0]&24608){L=p[5];let N;for(N=0;N<L.length;N+=1){const I=Ge(p,L,N);b[N]?(b[N].p(I,v),D(b[N],1)):(b[N]=Re(I),b[N].c(),D(b[N],1),b[N].m(x,null))}for(ye(),N=L.length;N<b.length;N+=1)G(N);ve()}p[2]?h?(h.p(p,v),v[0]&4&&D(h,1)):(h=We(p),h.c(),D(h,1),h.m(i,k)):h&&(ye(),P(h,1,1,()=>{h=null}),ve()),p[3]?j?(j.p(p,v),v[0]&8&&D(j,1)):(j=Xe(p),j.c(),D(j,1),j.m(i,null)):j&&(ye(),P(j,1,1,()=>{j=null}),ve())},i(p){if(!q){D(e.$$.fragment,p);for(let v=0;v<L.length;v+=1)D(b[v]);D(h),D(j),q=!0}},o(p){P(e.$$.fragment,p),b=b.filter(Boolean);for(let v=0;v<b.length;v+=1)P(b[v]);P(h),P(j),q=!1},d(p){fe(e,p),p&&X(s),p&&X(i),ze(b,p),h&&h.d(),j&&j.d(),z=!1,$()}}}function Tt(l,e,s){let i,r;Pe(l,ht,u=>s(5,i=u)),Pe(l,yt,u=>s(6,r=u));let f={tablename:"",fields:[]},d=null,m=!1,w=!1,o={_id:null,name:"",datatype_id:null,datatypeName:"",define_length:null,default_length:null,max_length:null,length:null,define_precision:null,default_precision:null,max_precision:null,precision:null,description:null};mt(async()=>{await _(),await gt()});function U(u){s(4,o.datatype_id=parseInt(u.target.value),o);let C=r.find(V=>V._id===parseInt(u.target.value));s(4,o.default_length=C.default_length,o),s(4,o.default_precision=C.default_precision,o),s(4,o.define_length=C.define_length,o),s(4,o.define_precision=C.define_precision,o),s(4,o.length=C.default_length,o),s(4,o.max_length=C.max_precision,o),s(4,o.max_precision=C.max_precision,o),s(4,o.precision=C.default_precision,o),s(4,o.datatypeName=C.type,o)}async function _(){await _t()}function g({field:u}){vt({table:d,field:u}),s(1,d=i.find(C=>C._id===d._id))}function x(){s(0,f={tablename:"",fields:[]})}function y(){s(4,o={_id:null,name:"",datatype_id:null,datatypeName:"",define_length:null,default_length:null,max_length:null,length:null,define_precision:null,default_precision:null,max_precision:null,precision:null,description:null})}async function k(){let u=f.tablename;const C={tablename:u},V="/backend/settings/tables";await qe.post(V,C).then(async()=>{await _();let ue=await i.find(ce=>ce.tablename==u);L(ue)}).catch(ue=>{console.log(ue),_()}),z()}async function q(){const u={tablename:d.tablename,originalname:d.originalname,fields:d.fields,removedField:d.removedFields?d.removedFields:[],updatedField:d.updatedFields?d.updatedFields:[]},C=`/backend/settings/tables/${d._id}`;await qe.put(C,u).then(()=>{_()}).catch(V=>{console.log(V),_()}),$()}function z(){x(),s(2,m=!m)}function $(){x(),s(3,w=!w)}function L(u){$(),s(1,d=u)}function b(u){const C=`/backend/settings/tables/${u._id}/${u.tablename}`;qe.delete(C).then(()=>{_()}).catch(V=>{console.error(V),_()})}async function G(){await wt({table:d,field:o}),s(1,d=i.find(u=>u._id===d._id)),y()}const h=(u,C)=>C._id==u.datatype_id,j=(u,C)=>C._id==u.datatype_id,p=u=>L(u),v=u=>b(u);function N(){f.tablename=this.value,s(0,f)}function I(){d.tablename=this.value,s(1,d)}const J=(u,C)=>C._id==u.datatype_id,Z=u=>g({field:u});function A(){o.name=this.value,s(4,o)}function E(){o.datatype_id=xt(this),s(4,o)}const le=u=>U(u);function B(){o.description=this.value,s(4,o)}function S(){o.length=this.value,s(4,o)}function Y(){o.precision=this.value,s(4,o)}return[f,d,m,w,o,i,r,U,g,k,q,z,$,L,b,G,h,j,p,v,N,I,J,Z,A,E,le,B,S,Y]}class jt extends ft{constructor(e){super(),ut(this,e,Tt,Ft,ct,{},null,[-1,-1])}}export{jt as default};
