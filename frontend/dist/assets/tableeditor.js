import{S as ot,i as dt,s as ft,N as ut,c as oe,a as k,e as s,b as l,m as de,d as V,f as t,l as E,t as I,g as ye,j as ve,h as W,k as fe,n as X,o as Ie,p as Se,q as ct,a3 as pt,a2 as mt,r as se,u as re,F as we,w as nt,x as it,y as ee,I as Te,P as ie,v as Ae,C as gt,aa as We,ab as at,Z as _t,a1 as bt,ac as ht,B as ze,ad as yt,ae as vt,af as wt,a7 as st}from"./index.js";import{f as je,a as Be}from"./index2.js";function Ze(n,e,a){const i=n.slice();return i[33]=e[a],i}function Ee(n,e,a){const i=n.slice();return i[36]=e[a],i}function Ge(n,e,a){const i=n.slice();return i[39]=e[a],i}function Je(n){let e,a;return e=new we({props:{icon:wt,class:"text-green-800"}}),{c(){oe(e.$$.fragment)},m(i,o){de(e,i,o),a=!0},p:st,i(i){a||(I(e.$$.fragment,i),a=!0)},o(i){W(e.$$.fragment,i),a=!1},d(i){fe(e,i)}}}function Ke(n){let e,a;return e=new we({props:{icon:at,class:"text-red-800"}}),{c(){oe(e.$$.fragment)},m(i,o){de(e,i,o),a=!0},p:st,i(i){a||(I(e.$$.fragment,i),a=!0)},o(i){W(e.$$.fragment,i),a=!1},d(i){fe(e,i)}}}function Oe(n){let e,a,i,o,p;function d(){return n[18](n[39])}function _(){return n[19](n[39])}return{c(){e=s("button"),e.textContent="Update",a=k(),i=s("button"),i.textContent="Delete",l(e,"class","border border-yellow-500 bg-yellow-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-yellow-600 focus:outline-none focus:shadow-outline"),l(i,"class","border border-red-500 bg-red-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-red-600 focus:outline-none focus:shadow-outline")},m(C,r){V(C,e,r),V(C,a,r),V(C,i,r),o||(p=[E(e,"click",d),E(i,"click",_)],o=!0)},p(C,r){n=C},d(C){C&&X(e),C&&X(a),C&&X(i),o=!1,Ae(p)}}}function Qe(n){let e,a,i=n[39].tablename+"",o,p,d,_,C,r,q,b,m=n[39].is_technical&&Je(),F=!n[39].is_technical&&Ke(),v=!n[39].is_technical&&Oe(n);return{c(){e=s("tr"),a=s("td"),o=se(i),p=k(),d=s("td"),m&&m.c(),_=k(),F&&F.c(),C=k(),r=s("td"),v&&v.c(),q=k(),l(a,"class","px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"),l(d,"class","text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"),l(r,"class","text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"),l(e,"class","bg-white border-b transition duration-300 ease-in-out hover:bg-gray-100")},m(N,A){V(N,e,A),t(e,a),t(a,o),t(e,p),t(e,d),m&&m.m(d,null),t(d,_),F&&F.m(d,null),t(e,C),t(e,r),v&&v.m(r,null),t(e,q),b=!0},p(N,A){(!b||A[0]&32)&&i!==(i=N[39].tablename+"")&&re(o,i),N[39].is_technical?m?(m.p(N,A),A[0]&32&&I(m,1)):(m=Je(),m.c(),I(m,1),m.m(d,_)):m&&(ye(),W(m,1,1,()=>{m=null}),ve()),N[39].is_technical?F&&(ye(),W(F,1,1,()=>{F=null}),ve()):F?(F.p(N,A),A[0]&32&&I(F,1)):(F=Ke(),F.c(),I(F,1),F.m(d,null)),N[39].is_technical?v&&(v.d(1),v=null):v?v.p(N,A):(v=Oe(N),v.c(),v.m(r,null))},i(N){b||(I(m),I(F),b=!0)},o(N){W(m),W(F),b=!1},d(N){N&&X(e),m&&m.d(),F&&F.d(),v&&v.d()}}}function Re(n){let e,a,i,o,p,d,_,C,r,q,b,m,F,v,N,A,z,U,L,g,J,h,j,c,y,T,D,K,$;return m=new we({props:{icon:nt}}),{c(){e=s("div"),a=s("div"),o=k(),p=s("div"),d=s("div"),_=s("div"),C=s("div"),r=s("div"),q=s("div"),b=it("svg"),oe(m.$$.fragment),F=k(),v=s("div"),N=s("h3"),N.textContent="Add a new table",A=k(),z=s("div"),U=s("div"),U.textContent="Name:",L=k(),g=s("input"),J=k(),h=s("div"),j=s("button"),j.textContent="Create",c=k(),y=s("button"),y.textContent="Cancel",l(a,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity ease-in-out duration-150"),l(b,"class","h-6 w-6 text-green-600"),l(b,"fill","none"),l(b,"viewBox","0 0 24 24"),l(b,"stroke-width","1.5"),l(b,"stroke","currentColor"),l(b,"aria-hidden","true"),l(q,"class","mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"),l(N,"class","text-base font-semibold leading-6 text-gray-900"),l(N,"id","modal-title"),l(g,"type","text"),l(g,"placeholder","Table name"),l(z,"class","mt-2"),l(v,"class","mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"),l(r,"class","sm:flex sm:items-start"),l(C,"class","bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"),l(j,"type","button"),l(j,"class","inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto"),l(y,"type","button"),l(y,"class","mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"),l(h,"class","bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"),l(_,"class","relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"),l(d,"class","flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"),l(p,"class","fixed inset-0 z-10 overflow-y-auto"),l(e,"class","relative z-10")},m(H,G){V(H,e,G),t(e,a),t(e,o),t(e,p),t(p,d),t(d,_),t(_,C),t(C,r),t(r,q),t(q,b),de(m,b,null),t(r,F),t(r,v),t(v,N),t(v,A),t(v,z),t(z,U),t(z,L),t(z,g),ee(g,n[0].tablename),t(_,J),t(_,h),t(h,j),t(h,c),t(h,y),D=!0,K||($=[E(g,"input",n[20]),E(j,"click",n[9]),E(y,"click",n[11])],K=!0)},p(H,G){G[0]&1&&g.value!==H[0].tablename&&ee(g,H[0].tablename)},i(H){D||(Te(()=>{D&&(i||(i=ie(a,je,{},!0)),i.run(1))}),I(m.$$.fragment,H),Te(()=>{D&&(T||(T=ie(_,Be,{},!0)),T.run(1))}),D=!0)},o(H){i||(i=ie(a,je,{},!1)),i.run(0),W(m.$$.fragment,H),T||(T=ie(_,Be,{},!1)),T.run(0),D=!1},d(H){H&&X(e),H&&i&&i.end(),fe(m),H&&T&&T.end(),K=!1,Ae($)}}}function Ve(n){let e,a,i,o,p,d,_,C,r,q,b,m,F,v,N,A,z,U,L,g,J,h,j,c,y,T,D,K,$,H,G,le,B,P,Y,f,w,Z,ue,ce,te,De,xe,Le,ke,Me,Ce,Ne,pe,Pe,me,ge,Ue,_e,ne,be,qe,He;m=new we({props:{icon:gt}});let ae=n[1].fields,M=[];for(let u=0;u<ae.length;u+=1)M[u]=$e(Ee(n,ae,u));const rt=u=>W(M[u],1,1,()=>{M[u]=null});let he=n[6],O=[];for(let u=0;u<he.length;u+=1)O[u]=et(Ze(n,he,u));let Q=n[4].define_length&&tt(n),R=n[4].define_precision&&lt(n);return pe=new we({props:{class:"text-green-800",icon:nt}}),{c(){e=s("div"),a=s("div"),o=k(),p=s("div"),d=s("div"),_=s("div"),C=s("div"),r=s("div"),q=s("div"),b=it("svg"),oe(m.$$.fragment),F=k(),v=s("div"),N=s("h3"),N.textContent="Update table",A=k(),z=s("div"),U=s("div"),L=s("label"),L.textContent="Name",g=k(),J=s("div"),h=s("input"),j=k(),c=s("div"),y=s("label"),y.textContent="Fields",T=k(),D=s("div"),K=s("table"),$=s("thead"),$.innerHTML=`<tr><th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Name</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Type</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Description</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Length</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Precision</th> 
                                                            <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Action</th></tr>`,H=k(),G=s("tbody");for(let u=0;u<M.length;u+=1)M[u].c();le=k(),B=s("tr"),P=s("td"),Y=s("input"),f=k(),w=s("td"),Z=s("select");for(let u=0;u<O.length;u+=1)O[u].c();ue=k(),ce=s("td"),te=s("input"),De=k(),xe=s("td"),Q&&Q.c(),Le=k(),ke=s("td"),R&&R.c(),Me=k(),Ce=s("td"),Ne=s("button"),oe(pe.$$.fragment),Pe=k(),me=s("div"),ge=s("button"),ge.textContent="Update",Ue=k(),_e=s("button"),_e.textContent="Cancel",l(a,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity ease-in-out duration-150"),l(b,"class","h-6 w-6 text-orange-600"),l(b,"fill","none"),l(b,"viewBox","0 0 24 24"),l(b,"stroke-width","1.5"),l(b,"stroke","currentColor"),l(b,"aria-hidden","true"),l(q,"class","mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10"),l(N,"class","text-base font-semibold leading-6 text-gray-900 dark:text-white"),l(N,"id","modal-title"),l(L,"for","edittitle"),l(L,"class","block text-sm font-bold ml-1 mb-2 text-gray-900 dark:text-white"),l(h,"id","edittitle"),l(h,"type","text"),l(h,"class","py-3 px-4 block w-full border-2 border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 shadow-sm"),l(h,"placeholder","Table name"),l(J,"class","relative"),l(y,"for","edittitle"),l(y,"class","block text-sm font-bold ml-1 mb-2 text-gray-900 dark:text-white"),l($,"class","bg-gray-200 border-b"),l(Y,"class","px-2 border-gray-200"),l(Y,"type","text"),l(Y,"placeholder","Field name"),l(P,"class","bg-gray-200"),l(Z,"class","px-2 border-gray-200"),n[4].datatype_id===void 0&&Te(()=>n[25].call(Z)),l(w,"class","bg-gray-200"),l(te,"class","px-2 border-gray-200"),l(te,"type","text"),l(te,"placeholder","Field description"),l(ce,"class","bg-gray-200"),l(xe,"class","bg-gray-200"),l(ke,"class","bg-gray-200"),l(Ce,"class","text-center bg-gray-200"),l(G,"class","bg-gray-200"),l(D,"class","border-2 border-gray-200 rounded-md shadow-sm"),l(c,"class","relative"),l(z,"class","grid gap-y-4"),l(v,"class","mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"),l(r,"class","sm:flex sm:items-start"),l(C,"class","bg-white dark:bg-gray-800 dark:border-gray-700 px-4 pb-4 pt-5 sm:p-6 sm:pb-4"),l(ge,"type","button"),l(ge,"class","inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto"),l(_e,"type","button"),l(_e,"class","mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"),l(me,"class","bg-gray-50 dark:bg-gray-800 dark:border-gray-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"),l(_,"class","relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full md:w-auto lg:w-auto"),l(d,"class","min-w-full flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"),l(p,"class","fixed inset-0 z-10 overflow-y-auto"),l(e,"class","relative z-10")},m(u,S){V(u,e,S),t(e,a),t(e,o),t(e,p),t(p,d),t(d,_),t(_,C),t(C,r),t(r,q),t(q,b),de(m,b,null),t(r,F),t(r,v),t(v,N),t(v,A),t(v,z),t(z,U),t(U,L),t(U,g),t(U,J),t(J,h),ee(h,n[1].tablename),t(z,j),t(z,c),t(c,y),t(c,T),t(c,D),t(D,K),t(K,$),t(K,H),t(K,G);for(let x=0;x<M.length;x+=1)M[x]&&M[x].m(G,null);t(G,le),t(G,B),t(B,P),t(P,Y),ee(Y,n[4].name),t(B,f),t(B,w),t(w,Z);for(let x=0;x<O.length;x+=1)O[x]&&O[x].m(Z,null);We(Z,n[4].datatype_id,!0),t(B,ue),t(B,ce),t(ce,te),ee(te,n[4].description),t(B,De),t(B,xe),Q&&Q.m(xe,null),t(B,Le),t(B,ke),R&&R.m(ke,null),t(B,Me),t(B,Ce),t(Ce,Ne),de(pe,Ne,null),t(_,Pe),t(_,me),t(me,ge),t(me,Ue),t(me,_e),be=!0,qe||(He=[E(h,"input",n[21]),E(Y,"input",n[24]),E(Z,"change",n[25]),E(Z,"change",n[26]),E(te,"input",n[27]),E(Ne,"click",n[15]),E(ge,"click",n[10]),E(_e,"click",n[12])],qe=!0)},p(u,S){if(S[0]&2&&h.value!==u[1].tablename&&ee(h,u[1].tablename),S[0]&322){ae=u[1].fields;let x;for(x=0;x<ae.length;x+=1){const Fe=Ee(u,ae,x);M[x]?(M[x].p(Fe,S),I(M[x],1)):(M[x]=$e(Fe),M[x].c(),I(M[x],1),M[x].m(G,le))}for(ye(),x=ae.length;x<M.length;x+=1)rt(x);ve()}if(S[0]&80&&Y.value!==u[4].name&&ee(Y,u[4].name),S[0]&64){he=u[6];let x;for(x=0;x<he.length;x+=1){const Fe=Ze(u,he,x);O[x]?O[x].p(Fe,S):(O[x]=et(Fe),O[x].c(),O[x].m(Z,null))}for(;x<O.length;x+=1)O[x].d(1);O.length=he.length}S[0]&80&&We(Z,u[4].datatype_id),S[0]&80&&te.value!==u[4].description&&ee(te,u[4].description),u[4].define_length?Q?Q.p(u,S):(Q=tt(u),Q.c(),Q.m(xe,null)):Q&&(Q.d(1),Q=null),u[4].define_precision?R?R.p(u,S):(R=lt(u),R.c(),R.m(ke,null)):R&&(R.d(1),R=null)},i(u){if(!be){Te(()=>{be&&(i||(i=ie(a,je,{},!0)),i.run(1))}),I(m.$$.fragment,u);for(let S=0;S<ae.length;S+=1)I(M[S]);I(pe.$$.fragment,u),Te(()=>{be&&(ne||(ne=ie(_,Be,{},!0)),ne.run(1))}),be=!0}},o(u){i||(i=ie(a,je,{},!1)),i.run(0),W(m.$$.fragment,u),M=M.filter(Boolean);for(let S=0;S<M.length;S+=1)W(M[S]);W(pe.$$.fragment,u),ne||(ne=ie(_,Be,{},!1)),ne.run(0),be=!1},d(u){u&&X(e),u&&i&&i.end(),fe(m),Ie(M,u),Ie(O,u),Q&&Q.d(),R&&R.d(),fe(pe),u&&ne&&ne.end(),qe=!1,Ae(He)}}}function Xe(n){let e,a=n[36].length+"",i;return{c(){e=s("span"),i=se(a),l(e,"class","px-2 border-gray-200")},m(o,p){V(o,e,p),t(e,i)},p(o,p){p[0]&2&&a!==(a=o[36].length+"")&&re(i,a)},d(o){o&&X(e)}}}function Ye(n){let e,a=n[36].precision+"",i;return{c(){e=s("span"),i=se(a),l(e,"class","px-2 border-gray-200")},m(o,p){V(o,e,p),t(e,i)},p(o,p){p[0]&2&&a!==(a=o[36].precision+"")&&re(i,a)},d(o){o&&X(e)}}}function $e(n){let e,a,i,o=n[36].name+"",p,d,_,C,r=n[6].find(le).type+"",q,b,m,F,v=n[36].description+"",N,A,z,U=n[6].find(G).define_length,L,g,J=n[6].find(H).define_precision,h,j,c,y,T,D,K,$;function H(...f){return n[16](n[36],...f)}function G(...f){return n[17](n[36],...f)}function le(...f){return n[22](n[36],...f)}let B=U&&Xe(n),P=J&&Ye(n);y=new we({props:{class:"text-red-800",icon:at}});function Y(){return n[23](n[36])}return{c(){e=s("tr"),a=s("td"),i=s("span"),p=se(o),d=k(),_=s("td"),C=s("span"),q=se(r),b=k(),m=s("td"),F=s("span"),N=se(v),A=k(),z=s("td"),B&&B.c(),L=k(),g=s("td"),P&&P.c(),h=k(),j=s("td"),c=s("button"),oe(y.$$.fragment),T=k(),l(i,"class","px-2 border-gray-200"),l(a,"class","bg-gray-200"),l(C,"class","px-2 border-gray-200"),l(_,"class","bg-gray-200"),l(F,"class","px-2 border-gray-200"),l(m,"class","bg-gray-200"),l(z,"class","bg-gray-200"),l(g,"class","bg-gray-200"),l(j,"class","text-center bg-gray-200")},m(f,w){V(f,e,w),t(e,a),t(a,i),t(i,p),t(e,d),t(e,_),t(_,C),t(C,q),t(e,b),t(e,m),t(m,F),t(F,N),t(e,A),t(e,z),B&&B.m(z,null),t(e,L),t(e,g),P&&P.m(g,null),t(e,h),t(e,j),t(j,c),de(y,c,null),t(e,T),D=!0,K||($=E(c,"click",Y),K=!0)},p(f,w){n=f,(!D||w[0]&2)&&o!==(o=n[36].name+"")&&re(p,o),(!D||w[0]&66)&&r!==(r=n[6].find(le).type+"")&&re(q,r),(!D||w[0]&2)&&v!==(v=n[36].description+"")&&re(N,v),w[0]&66&&(U=n[6].find(G).define_length),U?B?B.p(n,w):(B=Xe(n),B.c(),B.m(z,null)):B&&(B.d(1),B=null),w[0]&66&&(J=n[6].find(H).define_precision),J?P?P.p(n,w):(P=Ye(n),P.c(),P.m(g,null)):P&&(P.d(1),P=null)},i(f){D||(I(y.$$.fragment,f),D=!0)},o(f){W(y.$$.fragment,f),D=!1},d(f){f&&X(e),B&&B.d(),P&&P.d(),fe(y),K=!1,$()}}}function et(n){let e,a=n[33].type+"",i,o,p;return{c(){e=s("option"),i=se(a),o=k(),e.__value=p=n[33]._id,e.value=e.__value},m(d,_){V(d,e,_),t(e,i),t(e,o)},p(d,_){_[0]&64&&a!==(a=d[33].type+"")&&re(i,a),_[0]&64&&p!==(p=d[33]._id)&&(e.__value=p,e.value=e.__value)},d(d){d&&X(e)}}}function tt(n){let e,a,i;return{c(){e=s("input"),l(e,"class","px-2 border-gray-200"),l(e,"type","numeric"),l(e,"placeholder","Field description")},m(o,p){V(o,e,p),ee(e,n[4].length),a||(i=E(e,"input",n[28]),a=!0)},p(o,p){p[0]&80&&ee(e,o[4].length)},d(o){o&&X(e),a=!1,i()}}}function lt(n){let e,a,i;return{c(){e=s("input"),l(e,"class","px-2 border-gray-200"),l(e,"type","numeric"),l(e,"placeholder","Field description")},m(o,p){V(o,e,p),ee(e,n[4].precision),a||(i=E(e,"input",n[29]),a=!0)},p(o,p){p[0]&80&&ee(e,o[4].precision)},d(o){o&&X(e),a=!1,i()}}}function xt(n){let e,a,i,o,p,d,_,C,r,q,b,m,F,v,N,A,z,U;e=new ut({});let L=n[5],g=[];for(let c=0;c<L.length;c+=1)g[c]=Qe(Ge(n,L,c));const J=c=>W(g[c],1,1,()=>{g[c]=null});let h=n[2]&&Re(n),j=n[3]&&Ve(n);return{c(){oe(e.$$.fragment),a=k(),i=s("div"),o=s("button"),o.textContent="Add Table",p=k(),d=s("div"),_=s("div"),C=s("div"),r=s("div"),q=s("table"),b=s("thead"),b.innerHTML=`<tr><th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Name</th> 
                                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Is technical</th> 
                                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left"></th></tr>`,m=k(),F=s("tbody");for(let c=0;c<g.length;c+=1)g[c].c();v=k(),h&&h.c(),N=k(),j&&j.c(),l(o,"class","border border-green-500 bg-green-500 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-green-600 focus:outline-none focus:shadow-outline"),l(b,"class","bg-gray-200 border-b"),l(q,"class","min-w-full"),l(r,"class","overflow-hidden"),l(C,"class","py-2 inline-block min-w-full sm:px-6 lg:px-8"),l(_,"class","overflow-x-auto sm:mx-0.5 lg:mx-0.5"),l(d,"class","flex flex-col")},m(c,y){de(e,c,y),V(c,a,y),V(c,i,y),t(i,o),t(i,p),t(i,d),t(d,_),t(_,C),t(C,r),t(r,q),t(q,b),t(q,m),t(q,F);for(let T=0;T<g.length;T+=1)g[T]&&g[T].m(F,null);t(i,v),h&&h.m(i,null),t(i,N),j&&j.m(i,null),A=!0,z||(U=E(o,"click",n[11]),z=!0)},p(c,y){if(y[0]&24608){L=c[5];let T;for(T=0;T<L.length;T+=1){const D=Ge(c,L,T);g[T]?(g[T].p(D,y),I(g[T],1)):(g[T]=Qe(D),g[T].c(),I(g[T],1),g[T].m(F,null))}for(ye(),T=L.length;T<g.length;T+=1)J(T);ve()}c[2]?h?(h.p(c,y),y[0]&4&&I(h,1)):(h=Re(c),h.c(),I(h,1),h.m(i,N)):h&&(ye(),W(h,1,1,()=>{h=null}),ve()),c[3]?j?(j.p(c,y),y[0]&8&&I(j,1)):(j=Ve(c),j.c(),I(j,1),j.m(i,null)):j&&(ye(),W(j,1,1,()=>{j=null}),ve())},i(c){if(!A){I(e.$$.fragment,c);for(let y=0;y<L.length;y+=1)I(g[y]);I(h),I(j),A=!0}},o(c){W(e.$$.fragment,c),g=g.filter(Boolean);for(let y=0;y<g.length;y+=1)W(g[y]);W(h),W(j),A=!1},d(c){fe(e,c),c&&X(a),c&&X(i),Ie(g,c),h&&h.d(),j&&j.d(),z=!1,U()}}}function kt(n,e,a){let i,o;Se(n,_t,f=>a(5,i=f)),Se(n,bt,f=>a(6,o=f));let p={tablename:"",fields:[]},d=null,_=!1,C=!1,r={_id:null,name:"",datatype_id:null,datatypeName:"",define_length:null,default_length:null,max_length:null,length:null,define_precision:null,default_precision:null,max_precision:null,precision:null,description:null};ct(async()=>{await b(),await pt()});function q(f){a(4,r.datatype_id=parseInt(f.target.value),r);let w=o.find(Z=>Z._id===parseInt(f.target.value));a(4,r.default_length=w.default_length,r),a(4,r.default_precision=w.default_precision,r),a(4,r.define_length=w.define_length,r),a(4,r.define_precision=w.define_precision,r),a(4,r.length=w.default_length,r),a(4,r.max_length=w.max_precision,r),a(4,r.max_precision=w.max_precision,r),a(4,r.precision=w.default_precision,r),a(4,r.datatypeName=w.type,r)}async function b(){await mt()}function m({field:f}){ht({table:d,field:f}),a(1,d=i.find(w=>w._id===d._id))}function F(){a(0,p={tablename:"",fields:[]})}function v(){a(4,r={_id:null,name:"",datatype_id:null,datatypeName:"",define_length:null,default_length:null,max_length:null,length:null,define_precision:null,default_precision:null,max_precision:null,precision:null,description:null})}async function N(){let f=p.tablename;const w={tablename:f},Z="/backend/settings/tables";await ze.post(Z,w).then(async()=>{await b();let ue=await i.find(ce=>ce.tablename==f);L(ue)}).catch(ue=>{console.log(ue),b()}),z()}async function A(){const f={tablename:d.tablename,originalname:d.originalname,fields:d.fields,removedField:d.removedFields?d.removedFields:[],updatedField:d.updatedFields?d.updatedFields:[]},w=`/backend/settings/tables/${d._id}`;await ze.put(w,f).then(()=>{b()}).catch(Z=>{console.log(Z),b()}),U()}function z(){F(),a(2,_=!_)}function U(){F(),a(3,C=!C)}function L(f){U(),a(1,d=f)}function g(f){const w=`/backend/settings/tables/${f._id}/${f.tablename}`;ze.delete(w).then(()=>{b()}).catch(Z=>{console.error(Z),b()})}async function J(){await yt({table:d,field:r}),a(1,d=i.find(f=>f._id===d._id)),v()}const h=(f,w)=>w._id==f.datatype_id,j=(f,w)=>w._id==f.datatype_id,c=f=>L(f),y=f=>g(f);function T(){p.tablename=this.value,a(0,p)}function D(){d.tablename=this.value,a(1,d)}const K=(f,w)=>w._id==f.datatype_id,$=f=>m({field:f});function H(){r.name=this.value,a(4,r)}function G(){r.datatype_id=vt(this),a(4,r)}const le=f=>q(f);function B(){r.description=this.value,a(4,r)}function P(){r.length=this.value,a(4,r)}function Y(){r.precision=this.value,a(4,r)}return[p,d,_,C,r,i,o,q,m,N,A,z,U,L,g,J,h,j,c,y,T,D,K,$,H,G,le,B,P,Y]}class Ct extends ot{constructor(e){super(),dt(this,e,kt,xt,ft,{},null,[-1,-1])}}export{Ct as default};
